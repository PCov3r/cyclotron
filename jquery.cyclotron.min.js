(function(a){a.fn.cyclotron=function(b){return this.each(function(){var d,p,q=0,c,k=0,m,g,l=[],o=0,j=0;d=a(this);var f=a.extend({dampingFactor:0.93,historySize:5,autorotation:0,continuous:1},b);if((f.dampingFactor>1||f.dampingFactor<0)){if(typeof console==="object"){console.log("dampingFactor out of range "+f.dampingFactor)}f.dampingFactor=0.93}if(f.continuous===1&&d.hasClass("nonContinuous")){f.continuous=0}if(f.continuous===0){var n=d.css("background-image").replace(/^url\(["']?/,"").replace(/["']?\)$/,"");var e=new Image();a(e).load(function(){o=e.width-d.width()});e.src=n}if(f.autorotation!=0){c=false;q=f.autorotation}d.bind("touchstart mousedown",function(r){var h=(r.pageX>0?r.pageX:r.originalEvent.touches[0].pageX);p=h-k;c=true;r.preventDefault()});d.bind("touchmove mousemove",function(r){if(c){var h=(r.pageX>0?r.pageX:r.originalEvent.touches[0].pageX);if(typeof g==="undefined"){g=h}k=h-p;if(l.length>f.historySize){l.shift()}l.push(g-h);i();d.css("background-position",k);g=h}});d.bind("mouseleave mouseup touchend",function(){if(c){var h=l.length,r=l[h-1];for(var s=0;s<h;s++){r=(r*h+(l[s]))/(h+1)}q=r}c=false});m=function(){if(!c&&q){q*=f.dampingFactor;k-=q;i();d.css("background-position",k);if(Math.abs(q)<0.001){q=0}}};setInterval(m,16);function i(){if(f.continuous===0){if(-k<j){q=0;k=-j}if(-k>o){q=0;k=-o}}}})}}(jQuery));$(document).ready(function(){$(".cyclotron").cyclotron()});